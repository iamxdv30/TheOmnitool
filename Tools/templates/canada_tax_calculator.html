{% extends 'base.html' %} 

{% block title %}Canadian Tax Calculator{% endblock %}

{% block styles %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/canada_tax_calculator.css') }}"
/>
{% endblock %} 

{% block content %}
<div class="ca-container">
  <h1 class="ca-heading">Canadian Tax Calculator</h1>
  <h4>Select Country:</h4>
  <select id="country" 
        data-ca-calculator-url="{{ url_for('tool.canada_tax_calculator') }}"
        data-us-calculator-url="{{ url_for('tool.tax_calculator_route') }}">
    <option value="CA">Canada</option>
    <option value="US">United States</option>
  </select>
  <br /><br />
  <div class="ca-province-form-group">
    <label for="province">Province:</label>
    <select id="province">
      <option value="ON">Ontario</option>
      <option value="BC">British Columbia</option>
      <option value="AB">Alberta</option>
      <option value="MB">Manitoba</option>
      <option value="NB">New Brunswick</option>
      <option value="NL">Newfoundland and Labrador</option>
      <option value="NS">Nova Scotia</option>
      <option value="NT">Northwest Territories</option>
      <option value="NU">Nunavut</option>
      <option value="PE">Prince Edward Island</option>
      <option value="QC">Quebec</option>
      <option value="SK">Saskatchewan</option>
      <option value="YT">Yukon</option>
    </select>
  </div>

  <div class="ca-options-form-group">
    <label>
      <input type="checkbox" id="isSalesBeforeTax" /> Apply Discounts Before Tax
    </label>
  </div>
  <div class="ca-options-form-group">
    <label>
      <input type="checkbox" id="discountTaxable" checked /> Discounts Are Taxable
    </label>
  </div>

  <div class="ca-tax-rates-container">
    <h4>Tax Rates</h4>
    <div id="taxRates" class="ca-tax-rates-fields"></div>
  </div>
  
  <div class="ca-items-container">
    <h4>Items</h4>
    <div id="itemsContainer" class="ca-items-fields"></div>
    <button id="addItemBtn" class="ca-add-item">Add Item</button>
  </div>

  <div class="ca-shipping-form-group">
    <label for="shippingCost">Shipping Cost:</label>
    <input type="number" id="shippingCost" step="0.01" min="0" />
  </div>
  <div class="ca-shipping-checkbox">
    <label>
      <input type="checkbox" id="shippingTaxable" /> Shipping Taxable
    </label>
  </div>

  <button id="calculateTaxBtn" class="ca-calculate-tax">
    Calculate Tax
  </button>
</div>

<!-- JavaScript has been migrated to modular files -->
{% endblock %}

{% block scripts %}
<!-- Include common utilities -->
<script src="{{ url_for('static', filename='js/utils/common.js') }}"></script>
<!-- Include page-specific JavaScript -->
<script src="{{ url_for('static', filename='js/pages/canada_tax_calculator.js', v='1.1') }}"></script>
{% endblock %}